I"úe<h4 id="time--2018-05-20">Time : 2018-05-20</h4>
<h4 id="title--pycharm---02">Title : Pycharm - 02</h4>
<ul>
  <li>íŒŒì´ì¬ìœ¼ë¡œ ë°°ìš°ëŠ” ì•Œê³ ë¦¬ì¦˜ íŠ¸ë ˆì´ë”© ì‹¤ì „ ì˜ˆë¥¼ ì‘ì„±í•´ë³´ë©´ì„œ ìµíˆë ¤ê³  í•œë‹¤.</li>
  <li>ì—¬ê¸°ì„œëŠ” ì‹¤ì œë¡œ íˆ´ì„ ë§Œë“¤ì–´ë³´ë©´ì„œ ì‘ì„±í•œ ë‚´ìš©ì„ ì ìœ¼ë ¤ê³ í•œë‹¤.</li>
  <li>ë‚œ ê³„ì •ì´ ì—†ê¸° ë•Œë¬¸ì— ë˜‘ê°™ì´ ë”°ë¼í•˜ê¸°ëŠ” í˜ë“¤ê²ƒ ê°™ë‹¤.</li>
  <li>ìš°ì„  ì‹¤ì „í”„ë¡œê·¸ë¨ì„ ë³´ë©´ì„œ ë”°ë¼í• ìˆ˜ ìˆëŠ”ê²ƒì€í•˜ê³  í•„ìš”ì—†ëŠ” ë¶€ë¶„ì€ íŒ¨ìŠ¤ í•œë‹¤.(https://wikidocs.net/2878)
^í™”ì‚´í‘œìœ„ = shift+ctrl
esc</li>
</ul>

<ol>
  <li>ì°½ì—ì„œ ë˜ë‹¤ë¥¸ ì°½ ë„ìš°ëŠ”ê²ƒì€?
    <ul>
      <li><a href="https://www.youtube.com/watch?v=dRRpbDFnMHI&amp;t=354s">PyQt : Open Other Window When Button Clicked</a></li>
      <li>ë§¤ìš° ì§§ì€ ë™ì˜ìƒ ê°•ì˜ì„.</li>
    </ul>
  </li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="kn">from</span> <span class="nn">otherwindow</span> <span class="kn">import</span> <span class="n">Ui_otherwindow</span>
    <span class="c1"># ì´ êµ¬ë¬¸ì„ ë³´ë©´ from íŒŒì¼ì´ë¦„ import í´ë˜ìŠ¤ ì´ë¦„ êµ¬ì¡°ì¸ê²ƒì„ ì•Œ ìš° ìˆìŒ.
</span>    <span class="k">def</span> <span class="nf">openWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMainWindow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span> <span class="o">=</span> <span class="n">Ui_otherwindow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="p">)</span>
        <span class="n">MainWindow</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">pushButton</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">openWindow</span><span class="p">)</span>
</code></pre></div></div>
<ul>
  <li>MainWindow.pyì— ìœ„ êµ¬ë¬¸ì„ ì¶”ê°€í•˜ë©´ ìƒˆë¡œìš´ ì°½ì„ ë„ìš¸ ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë‚˜ ì¹˜ëª…ì ì¸ ë‹¨ì ì´ ë‚´ê°€ GUIë¥¼ ìˆ˜ì •í•˜ê³ </li>
  <li>pyuic5 -x mainwindow.ui -o mainwindow.py</li>
  <li>í•´ë‹¹ ëª…ë ¹ì–´ë¡œ mainwindow.py íŒŒì¼ì„ ë§Œë“¤ë©´ ë‹¤ ì‚¬ë¼ì§„ë‹¤. ì´ê²Œ ë©ë¯¸ ã…¡ã…¡â€¦.</li>
</ul>

<ol>
  <li>íŒŒì¼ì„ ì´ìš©í•´ì„œ 1.ì—ì„œ êµ¬í˜„í•œê±° ë˜‘ ê°™ì´ êµ¬í˜„í•˜ê¸°
    <ul>
      <li>ìœ„ì— ì ì€ê±° ì²˜ëŸ¼ pyuic5 -x mainwindow.ui -o mainwindow.py ì‹ìœ¼ë¡œ íŒŒì¼ì„ ë§Œë“¤ë©´ ê¸°ì¡´ì— ë§Œë“ ê²ƒì´ ë‹¤ ì‚¬ë¼ì§„ë‹¤.</li>
    </ul>
  </li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">import</span> <span class="nn">sys</span>
  <span class="kn">from</span> <span class="nn">PyQt5.QtWidgets</span> <span class="kn">import</span> <span class="o">*</span>
  <span class="kn">from</span> <span class="nn">PyQt5</span> <span class="kn">import</span> <span class="n">uic</span>
  <span class="kn">from</span> <span class="nn">PyQt5</span> <span class="kn">import</span> <span class="n">QtWidgets</span>
  <span class="c1"># Dialog í˜¹ì€ windowì—¬ë„ ìƒê´€ì—†ìŒ. ë‚´ê°€ ì¶”ê°€ë¡œ ë§Œë“ Guií´ë˜ìŠ¤ë¥¼ importí•˜ê³  ë„ìš°ë©´ë¨.
</span>  <span class="kn">from</span> <span class="nn">otherwindow</span> <span class="kn">import</span> <span class="n">Ui_otherwindow</span>

  <span class="c1"># íŒŒì¼ì„ ë¡œë“œí•œë‹¤.
</span>  <span class="n">form_class</span> <span class="o">=</span> <span class="n">uic</span><span class="o">.</span><span class="n">loadUiType</span><span class="p">(</span><span class="s">"mainwindow.ui"</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

  <span class="c1"># form_classì™€ QMainWindow ë‹¤ì¤‘ ìƒì† ë°›ìŒ.
</span>  <span class="k">class</span> <span class="nc">mainwindow</span><span class="p">(</span><span class="n">QMainWindow</span><span class="p">,</span> <span class="n">form_class</span><span class="p">):</span>
      <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
          <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">pushButton</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">btn_clicked</span><span class="p">)</span>

      <span class="k">def</span> <span class="nf">btn_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">window</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QDialog</span><span class="p">()</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">ui</span> <span class="o">=</span> <span class="n">Ui_otherwindow</span><span class="p">()</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="p">)</span>
          <span class="n">myWindow</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>


  <span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
      <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
      <span class="n">myWindow</span> <span class="o">=</span> <span class="n">mainwindow</span><span class="p">()</span>
      <span class="n">myWindow</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
      <span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</code></pre></div></div>

<ol>
  <li>ì›¹ í˜ì´ì§€ í¬ë¡¤ë§
    <ul>
      <li><a href="https://wikidocs.net/6660">ê°•ì¢Œ ë§í¬</a></li>
      <li>Beautiful Soup, Scarpy ë“±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ ì˜ˆì œê°€ pandasì´ë¯€ë¡œ â€œhtml5libâ€ë¥¼ ì„¤ì¹˜í•´ì„œ í¬ë¡¤ë§ì„ í•œë‹¤.</li>
      <li>í¬ë¡¤ë§ì„ ì´í•´í•˜ëŠ” ê²ƒì€ ì–´ë µë‹¤. ì˜ˆì œë¡œ ì‘¥ì‘¥ë˜ë©´ ì¢‹ê² ì§€ë§Œ ì—­ì‹œ ê¸°ì´ˆê°€ ë‹¤ì‹œ ë°œëª©ì„ ì¡ëŠ”ë‹¤.</li>
      <li>2ì¥ ì›¹í˜ì´ì§€ í¬ë¡¤ë§ ~ 6ì¥ ë°°ë‹¹ë¥  ê¸°ë°˜ íˆ¬ì ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„ì„ ì°¨ë¡€ëŒ€ë¡œ êµ¬í˜„í•´ë³´ê³  ì •ë¦¬í•´ì„œ ì ì–´ë³´ì.</li>
      <li>ì–¸ì–´ë„ ë§ì„í•´ì•¼ ìê¸°ê²ƒì´ ë˜ë“¯ì´ ì½”ë“œë„ ì§ì ‘ì§œê³  ì •ë¦¬í•´ë´ì•¼ ë‚´ê²ƒì´ ëœë‹¤.</li>
    </ul>
  </li>
</ol>

<p>2ì¥ step1</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>

  <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="s">"table.html"</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
  <span class="k">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
  <span class="k">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
  <span class="k">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
  <span class="c1"># ì¶œë ¥
</span>  <span class="c1">#print(df)
</span>  <span class="mi">0</span>  <span class="n">years</span>  <span class="mi">2013</span>  <span class="mi">2014</span>  <span class="mi">2015</span>
  <span class="mi">1</span>  <span class="n">sales</span>   <span class="mi">100</span>   <span class="mi">200</span>   <span class="mi">300</span>
  <span class="c1">#df.index
</span>  <span class="n">RangeIndex</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
  <span class="c1">#df.columns
</span>  <span class="n">Int64Index</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s">'int64'</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>2ì¥ step2</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">import</span> <span class="nn">requests</span>

  <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>

  <span class="k">def</span> <span class="nf">get_financial_statements</span><span class="p">(</span><span class="n">code</span><span class="p">):</span>
      <span class="n">url</span> <span class="o">=</span> <span class="s">"http://companyinfo.stock.naver.com/v1/company/ajax/cF1001.aspx?cmp_cd=</span><span class="si">%</span><span class="s">s&amp;fin_typ=0&amp;freq_typ=Y"</span> <span class="o">%</span> <span class="p">(</span><span class="n">code</span><span class="p">)</span>
      <span class="k">print</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
      <span class="n">html</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
      <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">'&lt;th class="bg r01c02 endLine line-bottom"colspan="8"&gt;ì—°ê°„&lt;/th&gt;'</span><span class="p">,</span> <span class="s">""</span><span class="p">)</span>
      <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">"&lt;span class='span-sub'&gt;(IFRSì—°ê²°)&lt;/span&gt;"</span><span class="p">,</span> <span class="s">""</span><span class="p">)</span>
      <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">'</span><span class="se">\t</span><span class="s">'</span><span class="p">,</span> <span class="s">''</span><span class="p">)</span>
      <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">,</span> <span class="s">''</span><span class="p">)</span>
      <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">'</span><span class="se">\r</span><span class="s">'</span><span class="p">,</span> <span class="s">''</span><span class="p">)</span>
      <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">'ì£¼ìš”ì¬ë¬´ì •ë³´&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;'</span><span class="p">,</span> <span class="s">"ì£¼ìš”ì¬ë¬´ì •ë³´&lt;/th&gt;"</span><span class="p">)</span>

      <span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span> <span class="mi">2021</span><span class="p">):</span>
          <span class="k">for</span> <span class="n">month</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">13</span><span class="p">):</span>
              <span class="n">month</span> <span class="o">=</span> <span class="s">"/</span><span class="si">%02</span><span class="s">d"</span> <span class="o">%</span> <span class="n">month</span>
              <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">)</span> <span class="o">+</span> <span class="n">month</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">))</span>

          <span class="k">for</span> <span class="n">month</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
              <span class="n">month</span> <span class="o">=</span> <span class="s">"/</span><span class="si">%02</span><span class="s">d"</span> <span class="o">%</span> <span class="n">month</span>
              <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">year</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">month</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">))</span>

          <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">)</span> <span class="o">+</span> <span class="s">'(E)'</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">))</span>

      <span class="n">df_list</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>
      <span class="n">df</span> <span class="o">=</span> <span class="n">df_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
      <span class="n">df_DataFrame</span><span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">get_values</span><span class="p">(),</span> <span class="n">columns</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">get_values</span><span class="p">(),</span> <span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s">'ì£¼ìš”ì¬ë¬´ì •ë³´'</span><span class="p">])</span>

      <span class="k">print</span><span class="p">(</span><span class="n">df_DataFrame</span><span class="p">)</span>
      <span class="k">print</span><span class="p">(</span><span class="n">df_DataFrame</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
      <span class="k">print</span><span class="p">(</span><span class="n">df_DataFrame</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

  <span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
      <span class="n">get_financial_statements</span><span class="p">(</span><span class="s">'035720'</span><span class="p">)</span>
</code></pre></div></div>
<ul>
  <li>ì—¬ê¸°ê¹Œì§€ë§Œ í•´ë³´ë©´ ì˜ë¯¸ë¥¼ ì¢€ ì•Œ ìˆ˜ ìˆìŒ.</li>
  <li>ì—¬ê¸°ì„œ replaceì˜ ìˆœì„œê°€ ë³€ê²½ë˜ë©´ ì˜ ë™ì‘í•˜ì§€ ì•ŠìŒ. ê·¸ëŸ¼ ìœ„ ê°™ì€ ê²ƒì€ ì–´ë–»ê²Œ ì‘ì„±í•˜ëƒ?</li>
  <li>êµ¬ê¸€ì—ì„œ ê²€ìƒ‰í•´ë³´ë©´ ë‚˜ì˜´. ê·¸ëŸ¬ë‚˜ ê·¸ê²ƒì„ ë³´ê³  ìœ„ì²˜ëŸ¼í•˜ê¸°ëŠ” ì‰½ì§€ ì•Šì•„ ë³´ì„.</li>
  <li>DataFrameì„ ë‹¤ì‹œ ìƒì„±í–ˆë‹¤. ì´ìœ ëŠ” read_htmlì´ ì˜ˆì œì²˜ëŸ¼ ë™ì‘í•˜ì§€ ì•Šì•„ì„œ indexê°’ì„ ê°€ì ¸ì˜¤ì§€ ëª»í–ˆë‹¤.</li>
  <li>ì´ê²ƒë•Œë¬¸ì— ê³ ìƒì„ ì¢€ ë§ì´ í–ˆë‹¤.</li>
</ul>

<p>3ì¥/4ì¥ ë°°ë‹¹ë¥  ê¸°ë°˜ íˆ¬ì ì•Œê³ ë¦¬ì¦˜</p>

<ul>
  <li>ì´ë²ˆ ì ˆì—ì„œëŠ” ì•ì„œ íŒŒì‹±í•œ ì¬ë¬´ì œí‘œ ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ êµ­ì±„ì‹œê°€ë°°ë‹¹ë¥ ì´ ë†’ì€ ì¢…ëª©ì„ ì„ ì •í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ êµ¬í˜„í•˜ê² ìŠµë‹ˆë‹¤.</li>
  <li>ì•„ì§ 4ì¥ê¹Œì§€ë§Œ ë´¤ëŠ”ë° 5ì¥6ì¥ì„ ë´ì•¼ ì „ì²´ë¥¼ ì´í•´í•  ìˆ˜ ìˆì„ë“¯ ì‹¶ë‹¤.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">import</span> <span class="nn">requests</span>

  <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
  <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

  <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
  <span class="kn">import</span> <span class="nn">datetime</span>


  <span class="k">def</span> <span class="nf">get_financial_statements</span><span class="p">(</span><span class="n">code</span><span class="p">):</span>
      <span class="n">url</span> <span class="o">=</span> <span class="s">"http://companyinfo.stock.naver.com/v1/company/ajax/cF1001.aspx?cmp_cd=</span><span class="si">%</span><span class="s">s&amp;fin_typ=0&amp;freq_typ=Y"</span> <span class="o">%</span> <span class="p">(</span><span class="n">code</span><span class="p">)</span>
      <span class="k">print</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
      <span class="n">html</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
      <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">'&lt;th class="bg r01c02 endLine line-bottom"colspan="8"&gt;ì—°ê°„&lt;/th&gt;'</span><span class="p">,</span> <span class="s">""</span><span class="p">)</span>
      <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">"&lt;span class='span-sub'&gt;(IFRSì—°ê²°)&lt;/span&gt;"</span><span class="p">,</span> <span class="s">""</span><span class="p">)</span>
      <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">"&lt;span class='span-sub'&gt;(IFRSë³„ë„)&lt;/span&gt;"</span><span class="p">,</span> <span class="s">""</span><span class="p">)</span>
      <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">'</span><span class="se">\t</span><span class="s">'</span><span class="p">,</span> <span class="s">''</span><span class="p">)</span>
      <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">,</span> <span class="s">''</span><span class="p">)</span>
      <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">'</span><span class="se">\r</span><span class="s">'</span><span class="p">,</span> <span class="s">''</span><span class="p">)</span>
      <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">'ì£¼ìš”ì¬ë¬´ì •ë³´&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;'</span><span class="p">,</span> <span class="s">"ì£¼ìš”ì¬ë¬´ì •ë³´&lt;/th&gt;"</span><span class="p">)</span>

      <span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span> <span class="mi">2021</span><span class="p">):</span>
          <span class="k">for</span> <span class="n">month</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">13</span><span class="p">):</span>
              <span class="n">month</span> <span class="o">=</span> <span class="s">"/</span><span class="si">%02</span><span class="s">d"</span> <span class="o">%</span> <span class="n">month</span>
              <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">)</span> <span class="o">+</span> <span class="n">month</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">))</span>

          <span class="k">for</span> <span class="n">month</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
              <span class="n">month</span> <span class="o">=</span> <span class="s">"/</span><span class="si">%02</span><span class="s">d"</span> <span class="o">%</span> <span class="n">month</span>
              <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">year</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">month</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">))</span>

          <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">)</span> <span class="o">+</span> <span class="s">'(E)'</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">))</span>

      <span class="n">df_list</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>
      <span class="n">df</span> <span class="o">=</span> <span class="n">df_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
      <span class="n">df_DataFrame</span><span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">get_values</span><span class="p">(),</span> <span class="n">columns</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">get_values</span><span class="p">(),</span> <span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s">'ì£¼ìš”ì¬ë¬´ì •ë³´'</span><span class="p">])</span>

      <span class="c1"># print(df_DataFrame)
</span>      <span class="c1"># print(df_DataFrame.columns)
</span>      <span class="c1"># print(df_DataFrame.index)
</span>      <span class="k">return</span> <span class="n">df_DataFrame</span>


  <span class="k">def</span> <span class="nf">get_3year_treasury</span><span class="p">():</span>
      <span class="n">url</span> <span class="o">=</span> <span class="s">"http://www.index.go.kr/strata/jsp/showStblGams3.jsp?stts_cd=288401&amp;idx_cd=2884&amp;freq=Y&amp;period=1998:2016"</span>
      <span class="n">html</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
      <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
      <span class="n">tr_data</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'tr'</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s">'tr_288401_1'</span><span class="p">)</span>
      <span class="n">td_data</span> <span class="o">=</span> <span class="n">tr_data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'td'</span><span class="p">)</span>

      <span class="c1"># print(td_data)
</span>      <span class="k">print</span><span class="p">(</span><span class="n">td_data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

      <span class="n">treasury_3year</span> <span class="o">=</span> <span class="p">{}</span>
      <span class="n">start_year</span> <span class="o">=</span> <span class="mi">1998</span>

      <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">td_data</span><span class="p">:</span>
          <span class="n">treasury_3year</span><span class="p">[</span><span class="n">start_year</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">text</span>
          <span class="n">start_year</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">print</span><span class="p">(</span><span class="n">treasury_3year</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">get_dividend_yield</span><span class="p">(</span><span class="n">code</span><span class="p">):</span>
      <span class="n">url</span> <span class="o">=</span> <span class="s">"http://companyinfo.stock.naver.com/company/c1010001.aspx?cmp_cd="</span> <span class="o">+</span> <span class="n">code</span>
      <span class="n">html</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>

      <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
      <span class="n">td_data</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'td'</span><span class="p">,</span> <span class="p">{</span><span class="s">'class'</span><span class="p">:</span> <span class="s">'cmp-table-cell td0301'</span><span class="p">})</span>
      <span class="n">dt_data</span> <span class="o">=</span> <span class="n">td_data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'dt'</span><span class="p">)</span>

      <span class="n">dividend_yield</span> <span class="o">=</span> <span class="n">dt_data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
      <span class="n">dividend_yield</span> <span class="o">=</span> <span class="n">dividend_yield</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">' '</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
      <span class="n">dividend_yield</span> <span class="o">=</span> <span class="n">dividend_yield</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

      <span class="k">print</span><span class="p">(</span><span class="n">dividend_yield</span><span class="p">)</span>
      <span class="c1"># return dividend_yield
</span>
  <span class="k">def</span> <span class="nf">get_current_3year_treasury</span><span class="p">():</span>
      <span class="n">url</span> <span class="o">=</span> <span class="s">"http://info.finance.naver.com/marketindex/interestDailyQuote.nhn?marketindexCd=IRR_GOVT03Y&amp;page=1"</span>
      <span class="n">html</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>

      <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
      <span class="n">tbody_data</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'tbody'</span><span class="p">)</span>
      <span class="n">tr_data</span> <span class="o">=</span> <span class="n">tbody_data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'tr'</span><span class="p">)</span>
      <span class="n">td_data</span> <span class="o">=</span> <span class="n">tr_data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'td'</span><span class="p">)</span>
      <span class="c1"># return td_data[1].text
</span>      <span class="k">print</span><span class="p">(</span><span class="n">td_data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">get_estimated_dividend_yield</span><span class="p">(</span><span class="n">code</span><span class="p">):</span>
      <span class="n">df</span> <span class="o">=</span> <span class="n">get_financial_statements</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
      <span class="n">dividend_yield</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s">"í˜„ê¸ˆë°°ë‹¹ìˆ˜ìµë¥ "</span><span class="p">]</span>

      <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
      <span class="n">cur_year</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="n">year</span>

      <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">cur_year</span><span class="p">)</span> <span class="ow">in</span> <span class="n">dividend_yield</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
          <span class="n">cur_year_dividend_yield</span> <span class="o">=</span> <span class="n">dividend_yield</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">cur_year</span><span class="p">)]</span>
          <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">cur_year_dividend_yield</span><span class="p">):</span>
              <span class="k">return</span> <span class="n">dividend_yield</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">cur_year</span><span class="o">-</span><span class="mi">1</span><span class="p">)]</span>
          <span class="k">else</span><span class="p">:</span>
              <span class="k">return</span> <span class="n">cur_year_dividend_yield</span>
      <span class="k">else</span><span class="p">:</span>
          <span class="k">return</span> <span class="n">dividend_yield</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">cur_year</span><span class="o">-</span><span class="mi">1</span><span class="p">)]</span>

  <span class="k">def</span> <span class="nf">get_previous_dividend_yield</span><span class="p">(</span><span class="n">code</span><span class="p">):</span>
      <span class="n">df</span> <span class="o">=</span> <span class="n">get_financial_statements</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
      <span class="n">dividend_yield</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s">'í˜„ê¸ˆë°°ë‹¹ìˆ˜ìµë¥ '</span><span class="p">]</span>

      <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
      <span class="n">cur_year</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="n">year</span>

      <span class="n">previous_dividend_yield</span> <span class="o">=</span> <span class="p">{}</span>

      <span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cur_year</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="n">cur_year</span><span class="p">):</span>
          <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">)</span> <span class="ow">in</span> <span class="n">dividend_yield</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
              <span class="n">previous_dividend_yield</span><span class="p">[</span><span class="n">year</span><span class="p">]</span> <span class="o">=</span> <span class="n">dividend_yield</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">)]</span>

      <span class="k">return</span> <span class="n">previous_dividend_yield</span>
  <span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
      <span class="c1"># get_financial_statements('035720')
</span>      <span class="c1"># get_3year_treasury()
</span>      <span class="c1"># get_dividend_yield('058470')
</span>      <span class="c1"># get_current_3year_treasury()
</span>      <span class="c1"># estimate_dividedn_yield = get_estimated_dividend_yield('058470')
</span>      <span class="n">estimate_dividedn_yield</span> <span class="o">=</span> <span class="n">get_previous_dividend_yield</span><span class="p">(</span><span class="s">'058470'</span><span class="p">)</span>
      <span class="k">print</span><span class="p">(</span><span class="n">estimate_dividedn_yield</span><span class="p">)</span>
</code></pre></div></div>
<ul>
  <li>ìš°ì„  ë‹¨ìœ„ê¸°ëŠ¥ì€ ì˜ ëŒì•„ê°€ëŠ”ê²ƒì„ í™•ì¸í•˜ì˜€ë‹¤. ê·¸ëŸ¬ë‚˜ ì•„ì§ê¹Œì§€ëŠ” ê°ì´ ì•ˆì¡í˜.</li>
  <li>í•˜ë‚˜í•˜ë‚˜ ê¸°ëŠ¥ì„ ë³´ë©´ ì–´ë µì§€ ì•ŠìŒ. ê·¸ëŸ¬ë‚˜ ì¡°í•©ì´ ì¤‘ìš”í•˜ì§€â€¦.</li>
</ul>

<p>5ì¥ ë°°ë‹¹ë¥  ê¸°ë°˜ íˆ¬ì ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„(2)</p>
<ul>
  <li>êµ­ì±„ì‹œê°€ë°°ë‹¹ë¥  ì•Œê³ ë¦¬ì¦˜ ê¸°ë°˜ìœ¼ë¡œ ì¢…ëª© ë§¤ìˆ˜ì—¬ë¶€ ê²°ì •í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">import</span> <span class="nn">sys</span>

  <span class="kn">import</span> <span class="nn">datetime</span>
  <span class="kn">import</span> <span class="nn">webreader</span>
  <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
  <span class="kn">from</span> <span class="nn">PyQt5.QtWidgets</span> <span class="kn">import</span> <span class="o">*</span>

  <span class="c1"># code = '058470'
</span>  <span class="c1">#
</span>  <span class="c1"># #ì˜ˆìƒ í˜„ê¸ˆë°°ë‹¹ìˆ˜ìµë¥ 
</span>  <span class="c1"># print(webreader.get_estimated_dividend_yield(code))
</span>  <span class="c1">#
</span>  <span class="c1"># #í˜„ê¸ˆ ë°°ë‹¹ìˆ˜ìµë¥  = ì£¼ë‹¹ ë°°ë‹¹ê¸ˆ/ ì£¼ê°€ *100
</span>  <span class="c1"># print(webreader.get_dividend_yield(code))
</span>  <span class="c1">#
</span>  <span class="c1"># #3ë…„ ë§Œê¸° êµ­ì±„ìˆ˜ìµë¥ 
</span>  <span class="c1"># print(webreader.get_current_3year_treasury())
</span>  <span class="k">class</span> <span class="nc">PyMon</span><span class="p">:</span>
      <span class="c1"># def __init__(self):
</span>
      <span class="k">def</span> <span class="nf">calculate_estimated_dividend_to_treasury</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span>
          <span class="n">estimated_dividend_yield</span> <span class="o">=</span> <span class="n">webreader</span><span class="o">.</span><span class="n">get_estimated_dividend_yield</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
          <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">estimated_dividend_yield</span><span class="p">):</span>
              <span class="n">estimated_dividend_yield</span> <span class="o">=</span> <span class="n">webreader</span><span class="o">.</span><span class="n">get_dividend_yield</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>

          <span class="c1">#êµ­ì±„ì‹œê°€ ë°°ë‹¹ë¥  = í˜„ê¸ˆë°°ë‹¹ìˆ˜ìµë¥ / 3ë…„ ë§Œê¸° êµ­ì±„ ìˆ˜ìµë¥ 
</span>          <span class="n">current_3year_treasury</span> <span class="o">=</span> <span class="n">webreader</span><span class="o">.</span><span class="n">get_current_3year_treasury</span><span class="p">()</span>
          <span class="n">estimated_dividend_to_treasury</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">estimated_dividend_yield</span><span class="p">)</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="n">current_3year_treasury</span><span class="p">)</span>

          <span class="k">return</span> <span class="n">estimated_dividend_to_treasury</span>

      <span class="k">def</span> <span class="nf">get_min_max_dividend_to_treasury</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">code</span><span class="p">):</span>
          <span class="n">previous_dividend_yield</span> <span class="o">=</span> <span class="n">webreader</span><span class="o">.</span><span class="n">get_previous_dividend_yield</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
          <span class="n">three_years_treasury</span> <span class="o">=</span> <span class="n">webreader</span><span class="o">.</span><span class="n">get_3year_treasury</span><span class="p">()</span>

          <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
          <span class="n">cur_year</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="n">year</span>
          <span class="n">previous_dividend_to_treasury</span> <span class="o">=</span> <span class="p">{}</span>

          <span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cur_year</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="n">cur_year</span><span class="p">):</span>
              <span class="k">if</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">previous_dividend_yield</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="ow">and</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">three_years_treasury</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                  <span class="n">ratio</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">previous_dividend_yield</span><span class="p">[</span><span class="n">year</span><span class="p">])</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="n">three_years_treasury</span><span class="p">[</span><span class="n">year</span><span class="p">])</span>
                  <span class="n">previous_dividend_to_treasury</span><span class="p">[</span><span class="n">year</span><span class="p">]</span> <span class="o">=</span> <span class="n">ratio</span>

          <span class="k">print</span><span class="p">(</span><span class="n">previous_dividend_to_treasury</span><span class="p">)</span>
          <span class="n">min_ratio</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">previous_dividend_to_treasury</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
          <span class="n">max_ratio</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">previous_dividend_to_treasury</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

          <span class="k">return</span> <span class="p">(</span><span class="n">min_ratio</span><span class="p">,</span> <span class="n">max_ratio</span><span class="p">)</span>

      <span class="k">def</span> <span class="nf">buy_check_by_dividend_algorithm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">code</span><span class="p">):</span>
          <span class="n">estimated_dividend_to_treasury</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_estimated_dividend_to_treasury</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>

          <span class="p">(</span><span class="n">min_ratio</span><span class="p">,</span> <span class="n">max_ratio</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_min_max_dividend_to_treasury</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>

          <span class="k">if</span> <span class="n">estimated_dividend_to_treasury</span> <span class="o">&gt;=</span> <span class="n">max_ratio</span><span class="p">:</span>
              <span class="k">return</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">estimated_dividend_to_treasury</span><span class="p">)</span>
          <span class="k">else</span><span class="p">:</span>
              <span class="k">return</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">estimated_dividend_to_treasury</span><span class="p">)</span>

  <span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
      <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
      <span class="n">pymon</span> <span class="o">=</span> <span class="n">PyMon</span><span class="p">()</span>
      <span class="c1">#pymon.run()
</span>      <span class="k">print</span><span class="p">(</span><span class="n">pymon</span><span class="o">.</span><span class="n">calculate_estimated_dividend_to_treasury</span><span class="p">(</span><span class="s">'058470'</span><span class="p">))</span>
      <span class="k">print</span><span class="p">(</span><span class="n">pymon</span><span class="o">.</span><span class="n">get_min_max_dividend_to_treasury</span><span class="p">(</span><span class="s">'058470'</span><span class="p">))</span>
      <span class="k">print</span><span class="p">(</span><span class="n">pymon</span><span class="o">.</span><span class="n">buy_check_by_dividend_algorithm</span><span class="p">(</span><span class="s">'058470'</span><span class="p">))</span>
</code></pre></div></div>

<p>6ì¥ ë°°ë‹¹ë¥  ê¸°ë°˜ íˆ¬ì ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„(3)</p>
<ul>
  <li>ë‚œ í‚¤ì›€ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì•½ê°„ì˜ ìˆ˜ì •ì„ ê°€í•´ì•¼ ì˜ˆì œë¥¼ í•  ìˆ˜ ìˆì—ˆë‹¤.</li>
  <li>ê·¸ëŸ¬ë‚˜ ì˜ˆì œê°€ ì œëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•Šì•„ì„œ ê³ ìƒì„ ì¢€ í–ˆë‹¤.</li>
  <li>ì˜ˆì œë¥¼ í•˜ë‹¤ë³´ë©´ íŠœí”Œ,ë”•ì…”ë„ˆë¦¬,ë¦¬ìŠ¤íŠ¸ í—·ê°ˆë¦¬ëŠ”ë° <a href="https://hashcode.co.kr/questions/4118/ì˜-ì°¨ì´ì™€-ì‚¬ìš©í•´ì•¼-í• -ê³³">ë§í¬</a></li>
  <li>ë§í¬ ì°¸ì¡°í•˜ì.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">def</span> <span class="nf">get_kospi200</span><span class="p">():</span>

      <span class="n">BaseUrl</span> <span class="o">=</span> <span class="s">'http://finance.naver.com/sise/entryJongmok.nhn?&amp;page='</span>

      <span class="n">kospi_code</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="n">kospi_name</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">1</span><span class="p">):</span>
          <span class="n">url</span> <span class="o">=</span> <span class="n">BaseUrl</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
          <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
          <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">text</span><span class="p">,</span><span class="s">'lxml'</span><span class="p">)</span>
          <span class="n">items</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'td'</span><span class="p">,{</span><span class="s">'class'</span><span class="p">:</span><span class="s">'ctg'</span><span class="p">})</span>

          <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
              <span class="c1"># print(item)
</span>              <span class="c1"># print(item.a)
</span>              <span class="n">txt</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'href'</span><span class="p">)</span>
              <span class="c1"># print(txt)
</span>              <span class="n">k</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">'[</span><span class="err">\</span><span class="s">d]+'</span><span class="p">,</span> <span class="n">txt</span><span class="p">)</span>
              <span class="c1"># print(re.search('[\d]', txt))
</span>              <span class="c1"># print(re.search('[\d]+', txt))
</span>              <span class="k">if</span> <span class="n">k</span><span class="p">:</span>
                  <span class="n">code</span> <span class="o">=</span> <span class="n">k</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
                  <span class="n">name</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">text</span>
                  <span class="n">kospi_code</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
                  <span class="n">kospi_name</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>


      <span class="n">kospi200</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">kospi_code</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">kospi_name</span><span class="p">)</span>

      <span class="k">return</span> <span class="n">kospi200</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">import</span> <span class="nn">sys</span>

  <span class="kn">import</span> <span class="nn">datetime</span>
  <span class="kn">import</span> <span class="nn">webreader</span>
  <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
  <span class="kn">from</span> <span class="nn">PyQt5.QtWidgets</span> <span class="kn">import</span> <span class="o">*</span>
  <span class="kn">import</span> <span class="nn">extract_kospi200</span>
  <span class="kn">import</span> <span class="nn">time</span>

  <span class="c1"># #ì˜ˆìƒ í˜„ê¸ˆë°°ë‹¹ìˆ˜ìµë¥ 
</span>  <span class="c1"># print(webreader.get_estimated_dividend_yield(code))
</span>  <span class="c1">#
</span>  <span class="c1"># #í˜„ê¸ˆ ë°°ë‹¹ìˆ˜ìµë¥ 
</span>  <span class="c1"># print(webreader.get_dividend_yield(code))
</span>  <span class="c1">#
</span>  <span class="c1"># #3ë…„ ë§Œê¸° êµ­ì±„ìˆ˜ìµë¥ 
</span>  <span class="c1"># print(webreader.get_current_3year_treasury())
</span>  <span class="k">class</span> <span class="nc">PyMon</span><span class="p">:</span>
      <span class="c1"># def __init__(self):
</span>
      <span class="k">def</span> <span class="nf">calculate_estimated_dividend_to_treasury</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span>
          <span class="n">estimated_dividend_yield</span> <span class="o">=</span> <span class="n">webreader</span><span class="o">.</span><span class="n">get_estimated_dividend_yield</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
          <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">estimated_dividend_yield</span><span class="p">):</span>
              <span class="n">estimated_dividend_yield</span> <span class="o">=</span> <span class="n">webreader</span><span class="o">.</span><span class="n">get_dividend_yield</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>

              <span class="k">if</span> <span class="n">estimated_dividend_yield</span> <span class="o">==</span> <span class="s">""</span><span class="p">:</span>
                  <span class="n">estimated_dividend_yield</span> <span class="o">=</span> <span class="mi">0</span>

          <span class="c1">#êµ­ì±„ì‹œê°€ ë°°ë‹¹ë¥  = í˜„ê¸ˆë°°ë‹¹ìˆ˜ìµë¥ / 3ë…„ ë§Œê¸° êµ­ì±„ ìˆ˜ìµë¥ 
</span>          <span class="n">current_3year_treasury</span> <span class="o">=</span> <span class="n">webreader</span><span class="o">.</span><span class="n">get_current_3year_treasury</span><span class="p">()</span>
          <span class="n">estimated_dividend_to_treasury</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">estimated_dividend_yield</span><span class="p">)</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="n">current_3year_treasury</span><span class="p">)</span>

          <span class="k">return</span> <span class="n">estimated_dividend_to_treasury</span>

      <span class="k">def</span> <span class="nf">get_min_max_dividend_to_treasury</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">code</span><span class="p">):</span>
          <span class="n">previous_dividend_yield</span> <span class="o">=</span> <span class="n">webreader</span><span class="o">.</span><span class="n">get_previous_dividend_yield</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
          <span class="n">three_years_treasury</span> <span class="o">=</span> <span class="n">webreader</span><span class="o">.</span><span class="n">get_3year_treasury</span><span class="p">()</span>

          <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
          <span class="n">cur_year</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="n">year</span>
          <span class="n">previous_dividend_to_treasury</span> <span class="o">=</span> <span class="p">{}</span>

          <span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cur_year</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="n">cur_year</span><span class="p">):</span>
              <span class="k">if</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">previous_dividend_yield</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="ow">and</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">three_years_treasury</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                  <span class="n">ratio</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">previous_dividend_yield</span><span class="p">[</span><span class="n">year</span><span class="p">])</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="n">three_years_treasury</span><span class="p">[</span><span class="n">year</span><span class="p">])</span>
                  <span class="n">previous_dividend_to_treasury</span><span class="p">[</span><span class="n">year</span><span class="p">]</span> <span class="o">=</span> <span class="n">ratio</span>

          <span class="c1"># print(previous_dividend_to_treasury)
</span>          <span class="k">if</span> <span class="n">previous_dividend_to_treasury</span> <span class="o">==</span> <span class="p">{}:</span>
              <span class="n">min_ratio</span> <span class="o">=</span> <span class="mi">0</span>
              <span class="n">max_ratio</span> <span class="o">=</span> <span class="mi">0</span>
          <span class="k">else</span><span class="p">:</span>
              <span class="n">min_ratio</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">previous_dividend_to_treasury</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
              <span class="n">max_ratio</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">previous_dividend_to_treasury</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

          <span class="k">return</span> <span class="p">(</span><span class="n">min_ratio</span><span class="p">,</span> <span class="n">max_ratio</span><span class="p">)</span>

      <span class="k">def</span> <span class="nf">buy_check_by_dividend_algorithm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">code</span><span class="p">):</span>
          <span class="n">estimated_dividend_to_treasury</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_estimated_dividend_to_treasury</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>

          <span class="p">(</span><span class="n">min_ratio</span><span class="p">,</span> <span class="n">max_ratio</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_min_max_dividend_to_treasury</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>

          <span class="k">if</span> <span class="n">estimated_dividend_to_treasury</span> <span class="o">&gt;=</span> <span class="n">max_ratio</span> <span class="ow">and</span> <span class="n">max_ratio</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
              <span class="k">return</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">estimated_dividend_to_treasury</span><span class="p">)</span>
          <span class="k">else</span><span class="p">:</span>
              <span class="k">return</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">estimated_dividend_to_treasury</span><span class="p">)</span>

      <span class="k">def</span> <span class="nf">run_dividend</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
          <span class="n">buy_list</span> <span class="o">=</span> <span class="p">[]</span>
          <span class="n">kospi_codes</span> <span class="o">=</span> <span class="n">extract_kospi200</span><span class="o">.</span><span class="n">get_kospi200</span><span class="p">()</span>
          <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
          <span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">kospi_codes</span><span class="p">:</span>
              <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
              <span class="k">print</span><span class="p">(</span><span class="s">'check: '</span><span class="p">,</span> <span class="n">kospi_codes</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

              <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">buy_check_by_dividend_algorithm</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>

              <span class="k">if</span> <span class="n">ret</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                  <span class="k">print</span><span class="p">(</span><span class="s">"Pass"</span><span class="p">,</span><span class="n">ret</span><span class="p">)</span>
                  <span class="n">buy_list</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">kospi_codes</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">code</span><span class="p">,</span> <span class="n">ret</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
              <span class="k">else</span><span class="p">:</span>
                  <span class="k">print</span><span class="p">(</span><span class="s">"Fail"</span><span class="p">,</span><span class="n">ret</span><span class="p">)</span>
                  <span class="c1"># buy_list.append((kospi_codes.index[i], ret[1]))
</span>
              <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
          <span class="c1"># print(kospi_codes.index)
</span>          <span class="c1"># print(kospi_codes.values)
</span>
          <span class="n">sorted_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">buy_list</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">t</span> <span class="p">:</span> <span class="n">t</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
          <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
              <span class="k">print</span><span class="p">(</span><span class="n">sorted_list</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

          <span class="bp">self</span><span class="o">.</span><span class="n">update_buy_list</span><span class="p">(</span><span class="n">buy_list</span><span class="p">)</span>

      <span class="k">def</span> <span class="nf">update_buy_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buy_list</span><span class="p">):</span>
          <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"buy_list.txt"</span><span class="p">,</span> <span class="s">"wt"</span><span class="p">)</span>
          <span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">buy_list</span><span class="p">:</span>
              <span class="n">f</span><span class="o">.</span><span class="n">writelines</span><span class="p">(</span><span class="s">"íšŒì‚¬ëª…;</span><span class="si">%</span><span class="s">s; ì½”ë“œ;</span><span class="si">%</span><span class="s">r;êµ­ì±„ì‹œê°€ ë°°ë‹¹ë¥ ;</span><span class="si">%</span><span class="s">r </span><span class="se">\n</span><span class="s">"</span> <span class="o">%</span> <span class="p">(</span><span class="n">code</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">code</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">code</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
          <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

  <span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
      <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
      <span class="n">pymon</span> <span class="o">=</span> <span class="n">PyMon</span><span class="p">()</span>
      <span class="n">pymon</span><span class="o">.</span><span class="n">run_dividend</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="c1"># ê²°ê³¼ 2018/05/26 ê¸°ì¤€
</span>  <span class="err">íšŒì‚¬ëª…</span><span class="p">;</span><span class="err">ì‚¼ì„±ì „ì</span><span class="p">;</span> <span class="err">ì½”ë“œ</span><span class="p">;</span><span class="s">'005930'</span><span class="p">;</span><span class="err">êµ­ì±„ì‹œê°€</span> <span class="err">ë°°ë‹¹ë¥ </span><span class="p">;</span><span class="mf">1.2318181818181817</span>
  <span class="err">íšŒì‚¬ëª…</span><span class="p">;</span><span class="err">ì‚¼ì„±ìƒëª…</span><span class="p">;</span> <span class="err">ì½”ë“œ</span><span class="p">;</span><span class="s">'032830'</span><span class="p">;</span><span class="err">êµ­ì±„ì‹œê°€</span> <span class="err">ë°°ë‹¹ë¥ </span><span class="p">;</span><span class="mf">1.0181818181818183</span>
  <span class="err">íšŒì‚¬ëª…</span><span class="p">;</span><span class="err">ë¡¯ë°ì¼€ë¯¸ì¹¼</span><span class="p">;</span> <span class="err">ì½”ë“œ</span><span class="p">;</span><span class="s">'011170'</span><span class="p">;</span><span class="err">êµ­ì±„ì‹œê°€</span> <span class="err">ë°°ë‹¹ë¥ </span><span class="p">;</span><span class="mf">1.5545454545454545</span>
  <span class="err">íšŒì‚¬ëª…</span><span class="p">;</span><span class="err">ì‚¼ì„±í™”ì¬</span><span class="p">;</span> <span class="err">ì½”ë“œ</span><span class="p">;</span><span class="s">'000810'</span><span class="p">;</span><span class="err">êµ­ì±„ì‹œê°€</span> <span class="err">ë°°ë‹¹ë¥ </span><span class="p">;</span><span class="mf">1.9045454545454545</span>
  <span class="err">íšŒì‚¬ëª…</span><span class="p">;</span><span class="err">ê³ ë ¤ì•„ì—°</span><span class="p">;</span> <span class="err">ì½”ë“œ</span><span class="p">;</span><span class="s">'010130'</span><span class="p">;</span><span class="err">êµ­ì±„ì‹œê°€</span> <span class="err">ë°°ë‹¹ë¥ </span><span class="p">;</span><span class="mf">1.1272727272727272</span>
  <span class="err">íšŒì‚¬ëª…</span><span class="p">;</span><span class="n">KT</span><span class="p">;</span> <span class="err">ì½”ë“œ</span><span class="p">;</span><span class="s">'030200'</span><span class="p">;</span><span class="err">êµ­ì±„ì‹œê°€</span> <span class="err">ë°°ë‹¹ë¥ </span><span class="p">;</span><span class="mf">1.8136363636363635</span>
  <span class="err">íšŒì‚¬ëª…</span><span class="p">;</span><span class="err">ë¡¯ë°ì‡¼í•‘</span><span class="p">;</span> <span class="err">ì½”ë“œ</span><span class="p">;</span><span class="s">'023530'</span><span class="p">;</span><span class="err">êµ­ì±„ì‹œê°€</span> <span class="err">ë°°ë‹¹ë¥ </span><span class="p">;</span><span class="mf">1.0</span>
  <span class="err">íšŒì‚¬ëª…</span><span class="p">;</span><span class="err">í•œì˜¨ì‹œìŠ¤í…œ</span><span class="p">;</span> <span class="err">ì½”ë“œ</span><span class="p">;</span><span class="s">'018880'</span><span class="p">;</span><span class="err">êµ­ì±„ì‹œê°€</span> <span class="err">ë°°ë‹¹ë¥ </span><span class="p">;</span><span class="mf">1.4863636363636363</span>
  <span class="err">íšŒì‚¬ëª…</span><span class="p">;</span><span class="err">í•œêµ­ê°€ìŠ¤ê³µì‚¬</span><span class="p">;</span> <span class="err">ì½”ë“œ</span><span class="p">;</span><span class="s">'036460'</span><span class="p">;</span><span class="err">êµ­ì±„ì‹œê°€</span> <span class="err">ë°°ë‹¹ë¥ </span><span class="p">;</span><span class="mf">1.0363636363636362</span>
  <span class="err">íšŒì‚¬ëª…</span><span class="p">;</span><span class="n">DB</span><span class="err">ì†í•´ë³´í—˜</span><span class="p">;</span> <span class="err">ì½”ë“œ</span><span class="p">;</span><span class="s">'005830'</span><span class="p">;</span><span class="err">êµ­ì±„ì‹œê°€</span> <span class="err">ë°°ë‹¹ë¥ </span><span class="p">;</span><span class="mf">1.75</span>
</code></pre></div></div>

<ul>
  <li><a href="https://wikidocs.net/6665">ë°°ë‹¹ë¥ ê¸°ë°˜ íˆ¬ì ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„</a></li>
  <li>ì˜ˆì œ í•™ìŠµì´ ëë‚¬ë‹¤ í‚¤ì›€ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•„ì„œ ì•½ê°„ ìˆ˜ì •í•´ì„œ ë¹„ìŠ·í•˜ê²Œ êµ¬í˜„í–ˆë‹¤.</li>
  <li>pycharmì„ í†µí•´ì„œ python, pyqtê³µë¶€í•˜ë ¤ê³  í–ˆëŠ”ë° ì—¬ê¸°ê¹Œì§€ ì™”ë‹¤.</li>
  <li>ì•„ì§ ì´ˆë³´ìë¼ ì˜ëª¨ë¥´ì§€ë§Œ ì¬ë¯¸ìˆëŠ” í•™ìŠµì´ì—ˆë‹¤.</li>
</ul>

<p>7ì¥ <a href="https://wikidocs.net/6657">ê¸‰ë“±ì£¼ í¬ì°© ì•Œê³ ë¦¬ì¦˜</a></p>
<ul>
  <li>ì•½ê°„ì˜ ìˆ˜ì •ì„ í†µí•´ì„œ ë¹„ìŠ·í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆì„ ê²ƒê°™ë‹¤.</li>
  <li>ë‚´ê°€ ì½”ìŠ¤í”¼ 200ì— í•´ë‹¹í•˜ëŠ”ê²ƒë§Œ ê°€ì§€ê³  ìˆìœ¼ë¯€ë¡œ ì´ ì •ë³´ë¥¼ ì´ìš©í•´ì„œ ê¸‰ë“±ì£¼ ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ì„ êµ¬í˜„í•´ë´¤ë‹¤.</li>
  <li>ìœ„ì—ì„œ êµ¬í•œ êµ­ì±„ì‹œê°€ ë°°ë‹¹ë¥ ì„ ì´ìš©í•˜ê³  ê¸‰ë“±ì£¼ í¬ì°© ì•Œê³ ë¦¬ì¦˜ì„ ì´ìš©í•´ì„œ ë§Œë“¤ì–´ ë´¤ë‹¤.</li>
  <li>ëª©í‘œ : ìš°ì„  ê¸‰ë“±ì£¼ë¥¼ ê³ ë¥¸ í›„ êµ­ì±„ì‹œê°€ ë°°ë‹¹ë¥ ì´ ë†’ì€ ìˆœìœ¼ë¡œ ì •ë ¬í•œë‹¤.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">import</span> <span class="nn">pandas_datareader.data</span> <span class="k">as</span> <span class="n">web</span>
  <span class="kn">import</span> <span class="nn">fix_yahoo_finance</span> <span class="k">as</span> <span class="n">yf</span>
  <span class="kn">from</span> <span class="nn">PyQt5.QtWidgets</span> <span class="kn">import</span> <span class="o">*</span>
  <span class="kn">import</span> <span class="nn">sys</span>
  <span class="kn">import</span> <span class="nn">extract_kospi200</span>
  <span class="n">yf</span><span class="o">.</span><span class="n">pdr_override</span><span class="p">()</span>
  <span class="kn">import</span> <span class="nn">time</span>
  <span class="kn">import</span> <span class="nn">pymon_sub</span>



  <span class="k">class</span> <span class="nc">PyMon</span><span class="p">:</span>
      <span class="k">def</span> <span class="nf">get_ohlcv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code</span><span class="p">,</span> <span class="n">start</span><span class="p">):</span>
          <span class="n">df</span> <span class="o">=</span> <span class="n">web</span><span class="o">.</span><span class="n">get_data_yahoo</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">start</span><span class="p">)</span>
          <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>
          <span class="k">return</span> <span class="n">df</span>

      <span class="k">def</span> <span class="nf">check_speedy_rising_volume</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code</span> <span class="p">):</span>
          <span class="n">result</span> <span class="o">=</span> <span class="bp">False</span>
          <span class="c1"># start_date = '1996-05-06'
</span>          <span class="n">start_date</span> <span class="o">=</span> <span class="s">'2018-01-01'</span>
          <span class="n">window_span</span> <span class="o">=</span> <span class="mi">20</span>

          <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ohlcv</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">start_date</span><span class="p">)</span>
          <span class="n">volumes</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">'Volume'</span><span class="p">]</span>
          <span class="n">adj_close</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">'Adj Close'</span><span class="p">]</span>

          <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">volumes</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">window_span</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span>
              <span class="n">result</span> <span class="o">=</span> <span class="bp">False</span>
          <span class="k">else</span><span class="p">:</span>
              <span class="n">sum_vol</span> <span class="o">=</span> <span class="mi">0</span>
              <span class="n">today_vol</span> <span class="o">=</span> <span class="mi">0</span>
              <span class="n">today_cost</span> <span class="o">=</span> <span class="mi">0</span>
              <span class="n">sum_cost</span> <span class="o">=</span> <span class="mi">0</span>

              <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">volumes</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">window_span</span><span class="p">,</span> <span class="n">volumes</span><span class="o">.</span><span class="n">count</span><span class="p">()):</span>
                  <span class="n">vol</span> <span class="o">=</span> <span class="n">volumes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                  <span class="n">cost</span> <span class="o">=</span> <span class="n">adj_close</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                  <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="n">volumes</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                      <span class="n">today_vol</span> <span class="o">=</span> <span class="n">vol</span>
                      <span class="n">today_cost</span> <span class="o">=</span> <span class="n">cost</span>
                  <span class="k">elif</span> <span class="n">volumes</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">window_span</span> <span class="o">&lt;=</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">volumes</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                      <span class="n">sum_vol</span> <span class="o">+=</span> <span class="n">vol</span>
                      <span class="n">sum_cost</span> <span class="o">+=</span> <span class="n">cost</span>
                  <span class="k">else</span><span class="p">:</span>
                      <span class="k">break</span>

              <span class="n">avg_vol</span> <span class="o">=</span> <span class="n">sum_vol</span> <span class="o">/</span> <span class="n">window_span</span>
              <span class="n">avg_cost</span> <span class="o">=</span> <span class="n">sum_cost</span> <span class="o">/</span> <span class="n">window_span</span>
              <span class="k">print</span><span class="p">(</span><span class="n">avg_vol</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">today_vol</span><span class="p">)</span>
              <span class="k">if</span> <span class="n">today_vol</span> <span class="o">&gt;</span> <span class="n">avg_vol</span> <span class="o">*</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">today_cost</span> <span class="o">&gt;</span> <span class="n">avg_cost</span><span class="p">:</span>
                  <span class="n">result</span> <span class="o">=</span> <span class="bp">True</span>

          <span class="k">return</span> <span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">today_vol</span><span class="p">,</span> <span class="n">avg_vol</span><span class="p">,</span> <span class="n">today_cost</span><span class="p">,</span> <span class="n">avg_cost</span><span class="p">)</span>

      <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
           <span class="n">buy_list</span> <span class="o">=</span> <span class="p">[]</span>
           <span class="n">kospi_codes</span> <span class="o">=</span> <span class="n">extract_kospi200</span><span class="o">.</span><span class="n">get_kospi200</span><span class="p">()</span>
           <span class="n">num</span> <span class="o">=</span> <span class="n">kospi_codes</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
           <span class="c1">#print(num)
</span>           <span class="c1"># for code in kospi_codes:
</span>           <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
           <span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">kospi_codes</span><span class="p">:</span>
              <span class="n">code_ks</span> <span class="o">=</span> <span class="n">code</span> <span class="o">+</span> <span class="s">'.KS'</span>
              <span class="k">print</span><span class="p">(</span><span class="n">code_ks</span><span class="p">)</span>
              <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s">'/'</span><span class="p">,</span> <span class="n">num</span><span class="p">)</span>
              <span class="c1"># êµ­ì±„ì‹œê°€ ë°°ë‹¹ë¥  = í˜„ê¸ˆë°°ë‹¹ìˆ˜ìµë¥ / 3ë…„ ë§Œê¸° êµ­ì±„ ìˆ˜ìµë¥ 
</span>              <span class="c1"># 5ë…„ê°„ êµ­ì±„ ì‹œê°€ ë°°ë‹¹ë¥  ì¤‘ ë†’ì€ ê±°ë³´ë‹¤ ë” ì¢‹ì€ ê²½ìš°ë§Œ true
</span>              <span class="n">ret</span> <span class="o">=</span> <span class="n">pymon_sub</span><span class="o">.</span><span class="n">buy_check_by_dividend_algorithm</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
              <span class="c1"># ê¸‰ì¤‘ì£¼ : ê¸°ì¤€ í˜„ ì£¼ê°€ê°€ 20ì¼ í‰ê·  ì£¼ê°€ë³´ë‹¤ ë†’ê³  ê±°ë˜ëŸ‰ì€ 20ì¼ í‰ê·  ê±°ë˜ëŸ‰ì˜ 2ë°°ë³´ë‹¤ í´ë•Œ
</span>              <span class="n">en_add</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_speedy_rising_volume</span><span class="p">(</span><span class="n">code_ks</span><span class="p">)</span>
              <span class="k">if</span> <span class="n">en_add</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                  <span class="n">buy_list</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">kospi_codes</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">code_ks</span> <span class="p">,</span> <span class="n">en_add</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">en_add</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">en_add</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">en_add</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">ret</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>

              <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>

           <span class="bp">self</span><span class="o">.</span><span class="n">update_buy_list</span><span class="p">(</span><span class="n">buy_list</span><span class="p">)</span>

      <span class="k">def</span> <span class="nf">update_buy_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buy_list</span><span class="p">):</span>
          <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"buy_list_add.txt"</span><span class="p">,</span> <span class="s">"wt"</span><span class="p">)</span>
          <span class="n">sorted_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">buy_list</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="n">t</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
          <span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">sorted_list</span><span class="p">:</span>
              <span class="n">f</span><span class="o">.</span><span class="n">writelines</span><span class="p">(</span><span class="s">"íšŒì‚¬ëª…;</span><span class="si">%</span><span class="s">s; ì½”ë“œ;</span><span class="si">%</span><span class="s">r;ì˜¤ëŠ˜ê±°ë˜ëŸ‰;</span><span class="si">%</span><span class="s">r 20ì¼í‰ê·  ê±°ë˜ëŸ‰;</span><span class="si">%</span><span class="s">r ë¹„ìœ¨;</span><span class="si">%</span><span class="s">r ì˜¤ëŠ˜ì¢…ê°€;</span><span class="si">%</span><span class="s">r 20ì¼í‰ê·  ì¢…ê°€;</span><span class="si">%</span><span class="s">r êµ­ì±„ì‹œê°€ ë°°ë‹¹ë¥ ;</span><span class="si">%</span><span class="s">r</span><span class="se">\n</span><span class="s">"</span> <span class="o">%</span> <span class="p">(</span><span class="n">code</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">code</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">code</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">code</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">code</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="n">code</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">code</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">code</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">code</span><span class="p">[</span><span class="mi">6</span><span class="p">]))</span>
          <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

  <span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
      <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
      <span class="n">pymon</span> <span class="o">=</span> <span class="n">PyMon</span><span class="p">()</span>
      <span class="n">pymon</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

      <span class="c1"># ì¶œë ¥
</span>      <span class="err">íšŒì‚¬ëª…</span><span class="p">;</span><span class="err">ìŒìš©ì–‘íšŒ</span><span class="p">;</span> <span class="err">ì½”ë“œ</span><span class="p">;</span><span class="s">'003410.KS'</span><span class="p">;</span><span class="err">ì˜¤ëŠ˜ê±°ë˜ëŸ‰</span><span class="p">;</span><span class="mi">2297866</span> <span class="mi">20</span><span class="err">ì¼í‰ê· </span> <span class="err">ê±°ë˜ëŸ‰</span><span class="p">;</span><span class="mf">1042480.5</span> <span class="err">ë¹„ìœ¨</span><span class="p">;</span><span class="mf">2.204229239779545</span> <span class="err">ì˜¤ëŠ˜ì¢…ê°€</span><span class="p">;</span><span class="mf">38600.0</span> <span class="mi">20</span><span class="err">ì¼í‰ê· </span> <span class="err">ì¢…ê°€</span><span class="p">;</span><span class="mf">31895.0</span> <span class="err">êµ­ì±„ì‹œê°€</span> <span class="err">ë°°ë‹¹ë¥ </span><span class="p">;</span><span class="mf">2.1628959276018103</span>
      <span class="err">íšŒì‚¬ëª…</span><span class="p">;</span><span class="err">íš¨ì„±</span><span class="p">;</span> <span class="err">ì½”ë“œ</span><span class="p">;</span><span class="s">'004800.KS'</span><span class="p">;</span><span class="err">ì˜¤ëŠ˜ê±°ë˜ëŸ‰</span><span class="p">;</span><span class="mi">543691</span> <span class="mi">20</span><span class="err">ì¼í‰ê· </span> <span class="err">ê±°ë˜ëŸ‰</span><span class="p">;</span><span class="mf">188168.2</span> <span class="err">ë¹„ìœ¨</span><span class="p">;</span><span class="mf">2.8893883238506826</span> <span class="err">ì˜¤ëŠ˜ì¢…ê°€</span><span class="p">;</span><span class="mf">138500.0</span> <span class="mi">20</span><span class="err">ì¼í‰ê· </span> <span class="err">ì¢…ê°€</span><span class="p">;</span><span class="mf">132925.0</span> <span class="err">êµ­ì±„ì‹œê°€</span> <span class="err">ë°°ë‹¹ë¥ </span><span class="p">;</span><span class="mf">1.8642533936651584</span>
      <span class="err">íšŒì‚¬ëª…</span><span class="p">;</span><span class="err">ë™ì–‘</span><span class="p">;</span> <span class="err">ì½”ë“œ</span><span class="p">;</span><span class="s">'001520.KS'</span><span class="p">;</span><span class="err">ì˜¤ëŠ˜ê±°ë˜ëŸ‰</span><span class="p">;</span><span class="mi">3165234</span> <span class="mi">20</span><span class="err">ì¼í‰ê· </span> <span class="err">ê±°ë˜ëŸ‰</span><span class="p">;</span><span class="mf">1167315.45</span> <span class="err">ë¹„ìœ¨</span><span class="p">;</span><span class="mf">2.711549821430017</span> <span class="err">ì˜¤ëŠ˜ì¢…ê°€</span><span class="p">;</span><span class="mf">2275.0</span> <span class="mi">20</span><span class="err">ì¼í‰ê· </span> <span class="err">ì¢…ê°€</span><span class="p">;</span><span class="mf">2132.5</span> <span class="err">êµ­ì±„ì‹œê°€</span> <span class="err">ë°°ë‹¹ë¥ </span><span class="p">;</span><span class="mf">1.1402714932126696</span>
      <span class="err">íšŒì‚¬ëª…</span><span class="p">;</span><span class="err">í˜„ëŒ€ì œì² </span><span class="p">;</span> <span class="err">ì½”ë“œ</span><span class="p">;</span><span class="s">'004020.KS'</span><span class="p">;</span><span class="err">ì˜¤ëŠ˜ê±°ë˜ëŸ‰</span><span class="p">;</span><span class="mi">6637458</span> <span class="mi">20</span><span class="err">ì¼í‰ê· </span> <span class="err">ê±°ë˜ëŸ‰</span><span class="p">;</span><span class="mf">1210368.1</span> <span class="err">ë¹„ìœ¨</span><span class="p">;</span><span class="mf">5.483834215392821</span> <span class="err">ì˜¤ëŠ˜ì¢…ê°€</span><span class="p">;</span><span class="mf">67200.0</span> <span class="mi">20</span><span class="err">ì¼í‰ê· </span> <span class="err">ì¢…ê°€</span><span class="p">;</span><span class="mf">61685.0</span> <span class="err">êµ­ì±„ì‹œê°€</span> <span class="err">ë°°ë‹¹ë¥ </span><span class="p">;</span><span class="mf">0.579185520361991</span>
</code></pre></div></div>

<ul>
  <li>ì´ë²ˆ ê°•ì¢Œë¥¼ í†µí•´ì„œ pycharm, python, pyqt and crawlingì—ëŒ€í•´ì„œ ìµìˆ™í•´ì§€ëŠ” ê³„ê¸°ê°€ ëœê²ƒ ê°™ë‹¤.</li>
  <li>ì•ìœ¼ë¡œ ê°€ì•¼í•  ê¸¸ì´ ë©€ì§€ ëˆˆì„ ë–´ìœ¼ë¯€ë¡œ ë­˜ ë³¼ì§€ë¥¼ ê²°ì •í•˜ì!!</li>
  <li>run() â€“&gt; buy_check_by_dividend_algorithm() : êµ­ì±„ì‹œê°€ ë°°ë‹¹ë¥ </li>
  <li>buy_check_by_dividend_algorithm() â€“&gt; calculate_estimated_dividend_to_treasury() : í˜„ì¬ êµ­ì±„ì‹œê°€ ë°°ë‹¹ë¥ </li>
  <li>buy_check_by_dividend_algorithm() â€“&gt; get_min_max_dividend_to_treasury() : 5ë…„ê°€ êµ­ì±„ ì‹œê°€ ë°°ë‹¹ë¥ </li>
  <li>calculate_estimated_dividend_to_treasury() â€“&gt; get_estimated_dividend_yield : í˜„ê¸ˆ ë°°ë‹¹ ìˆ˜ìµë¥ </li>
  <li>calculate_estimated_dividend_to_treasury() â€“&gt; get_dividend_yield : ìµœê·¼ ê²°ì‚° ìˆ˜ì • DPS(í˜„ê¸ˆ)/ì „ì¼ì ë³´í†µì£¼ ìˆ˜ì •ì£¼ê°€ë¡œ ëŒ€ì²´</li>
  <li>calculate_estimated_dividend_to_treasury() â€“&gt; get_current_3year_treasury : 3ë…„ ë§Œê¸° êµ­ì±„ ìˆ˜ìµë¥ </li>
  <li>get_min_max_dividend_to_treasury() â€“&gt; get_previous_dividend_yield() : 5ë…„ê°„ í˜„ê¸ˆ ë°°ë‹¹ ìˆ˜ìµë¥ </li>
  <li>get_min_max_dividend_to_treasury() â€“&gt; get_3year_treasury() : 5ë…„ê°„ 3ë…„ ë§Œê¸° êµ­ì±„ ìˆ˜ìµ</li>
  <li>run() â€“&gt; check_speedy_rising_volume(): subí•¨ìˆ˜ ì—†ìŒ.</li>
  <li>ë‚˜ë„ ì´ê²ƒì„ ì •ë¦¬í•˜ë©´ì„œ ì£¼ì‹ì—ëŒ€í•´ì„œë„ ì´í•´ë¥¼ í•˜ê³  pythonì—ëŒ€í•´ì„œë„ ì •ë¦¬í•˜ê³  ì¢‹ì€ ê°•ì˜ì´ë‹¤.</li>
  <li>ê°•ì‚¬ë¶„ê»˜ ë‹¤ì‹œí•œë²ˆ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.</li>
  <li>ê°•ì˜ ëª… : íŒŒì´ì¬ìœ¼ë¡œ ë°°ìš°ëŠ” ì•Œê³ ë¦¬ì¦˜ íŠ¸ë ˆì´ë”©</li>
  <li>ì§€ì€ì´ : ì¡°ëŒ€í‘œ ì™¸ 1ëª…</li>
  <li>ì°¸ê³  ì£¼ì†Œ : <a href="https://wikidocs.net/6665">ë§í¬</a></li>
</ul>
:ET